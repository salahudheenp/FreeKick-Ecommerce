<section>
  <div class="container mt-4 " style="margin-left:400px ;">
    <div class="row">
      <div class="col-md-6">
        <h2 class="text-center">Edit Products</h2>
        <form
          action="/admin/edit-product/{{product._id}}"
          method="post"
          enctype="multipart/form-data"
        >
          <label for="">Name</label>
          <input type="text" id="name" name="name" class="form-control" value="{{product.name}}" />

          <div class="row w-50">
            <label for="" class="col-form-label">Category</label>
            <div>
              <select id="inputState" class="form-select" name="category" value="{{product.category}}"style="margin-top:13px ;margin-left:10px;" required>
                <option selected>{{product.category}}</option>
                {{#each category}}
                <option>{{this.category}}</option>
                {{/each}}
              </select>
            </div>
          </div>

          <label for="">Price</label>
          <input type="number" id="price" name="price" class="form-control" value="{{product.price}}" required/>
         
          <label for="">Stock</label>
          <input type="number" id="discription" name="stock" class="form-control"value="{{product.stock}}" required />

           <label for="">Image1</label>
          <img src="{{this.product.images.[0]}}" alt="" style="width: 55px; height:82px;">
          <input type="file" id="image" name="image1" class="form-control" onchange="viewImage(event)"multiple required />
          
          
          <label for="">Image 2</label>
          <img src="{{this.product.images.[1]}}" alt="" style="width: 55px; height:82px;">
          <input type="file" id="image" name="image2" class="form-control" onchange="viewImage(event)"multiple required />
          
          <label for="">Image3</label>
          <img src="{{this.product.images.[2]}}" alt="" style="width: 55px; height:82px;">
          <input type="file" id="image" name="image3" class="form-control"onchange="viewImage(event)" multiple required />
          
          <label for="">Image4</label>
          <img src="{{this.product.images.[3]}}" alt="" style="width: 55px; height:82px;">
          <input type="file" id="image" name="image4" class="form-control"onchange="viewImage(event)" multiple required />

          {{!-- <div class="d-flex">
            <div class="mt-5  col-md-6">
              <label for="productimage" class="">
                Image
              </label>
              <img style="width:100px;" src="{{product.image.[0]}}" alt="">
              <input type="file" required id="id_image1" name="image1" accept="image/*" class="form-control"
                onchange="viewImage1(event)" style="width:100%;"><br>
              <img src="" id="imgView1" alt="" class="clr" style="height:100px">
          
              <div class="vald-info" id="info"></div>
              <h5 class="error_form text-danger" id="image1_error_message"></h5>
              <div style="display:flex">
                <div id="image-box1" class="clr image-container" style="height: 300px; width:20%"></div>
                <button type="button" class="btn btn-outline-info" id="crop-btn1" style=" margin-top: 10px;  display: none;
                                                  width:  50% ; margin: 20rem 0rem 0rem 0rem;">Crop</button>
              </div>
            </div>
          
            <div class="mt-5 ms-3 col-md-6">
              <label for="productimage" class="">
                Image
              </label>
              <img style="width:100px;" src="{{product.image.[1]}}" alt="">
              <input type="file" id="id_image2" required name="image2" accept="image/*" class="form-control"
                onchange="viewImage2(event)" style="width:100%;"><br>
              <img src="" id="imgView2" class="clr" alt="" style="height:100px">
          
              <div class="vald-info" id="info"></div>
              <h5 class="error_form text-danger" id="image2_error_message"></h5>
              <div id="image2container" style="display:flex">
                <div id="image-box2" class="image-container clr" style="height: 300px; width:20%"></div>
                <button type="button" class="btn btn-outline-info" id="crop-btn2" style=" margin-top: 10px; display: none;
                                                width:  50% ; margin: 20rem 0rem 0rem 0rem;">Crop</button>
              </div>
            </div>
          </div>
          <div class="d-flex">
            <div class="  mb-5 col-md-6">
              <label for="productimage" class="">
                Image
              </label>
              <img style="width:100px;" src="{{product.image.[2]}}" alt="">
              <input type="file" required id="id_image3" name="image3" accept="image/*" class="form-control"
                onchange="viewImage3(event)" style="width:100%;"><br>
              <img src="" id="imgView3" class="clr" alt="" style="height:100px">
          
              <div class="vald-info" id="info"></div>
              <h5 class="error_form text-danger" id="image3_error_message"></h5>
              <div style="display:flex">
                <div id="image-box3" class="image-container clr" style="height: 300px; width:20%"></div>
                <button type="button" class="btn btn-outline-info" id="crop-btn3" style=" margin-top: 2px; display: none;
                                                              width:  50% ; margin: 20rem 0rem 0rem 0rem;">Crop</button>
              </div>
            </div>
          
            <div class="ms-3 mb-5 col-md-6">
              <label for="productimage" class="">
                Image
              </label>
              <img style="width:100px;" src="{{product.image.[3]}}" alt="">
              <input type="file" required id="id_image4" name="image4" accept="image/*" class="form-control"
                onchange="viewImage4(event)" style="width:100%;"><br>
              <img src="" id="imgView4" class="clr" alt="" style="height:100px">
          
              <div class="vald-info" id="info"></div>
              <h5 class="error_form text-danger" id="image4_error_message"></h5>
              <div style="display:flex">
                <div id="image-box4" class="image-container clr" style="height: 300px; width:20%"></div>
                <button type="button" class="btn btn-outline-info" id="crop-btn4" style=" margin-top: 2px; display: none;
                                                              width:  50% ; margin: 20rem 0rem 0rem 0rem;">Crop</button>
              </div>
            </div>
          </div> --}}


          {{!-- <label for="">Image</label>
          <img src="/product-images/{{product._id}}.jpg" style="width:100px ;height:auto;" id="imgView">
          <input type="file" id="image" name="image" class="form-control" onchange="viewImage(event)" /> --}}

          <button type="submit" class="btn btn-success mt-4">Submit</button>
        </form>
      </div>
    </div>
  </div>
</section>
<script>
    function viewImage(event){
        document.getElementById('imgView').src=URL.createObjectURL(event.target.files[0])
    }
</script>